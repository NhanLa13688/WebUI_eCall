{% extends "base.html" %}
{% block content %}
<h2>Settings</h2>
<br>
<form id="settings-form">
    <table class="table">
        <!-- Dropdown chọn thiết bị -->
        <tr>
            <td class="fw-bold">Virtual ECU</td>
            <td>
                <select class="form-control" id="virtual-ecu" onchange="loadDeviceSettings()">
                    <option value="">-- Select Device --</option>
                    {% for device_name in device_names %}
                        <option value="{{ device_name }}">{{ device_name }}</option>
                    {% endfor %}
                </select>
            </td>
        </tr>

        <!-- Chọn CAN Port -->
        <tr>
            <td class="fw-bold">CAN Port</td>
            <td>
                <select class="form-control" id="can-port">
                    <option value="">Đang tải...</option>
                </select>
            </td>
        </tr>

        <!-- Chọn Bitrate -->
        <tr>
            <td class="fw-bold">Bitrate</td>
            <td>
                <select class="form-control" id="bitrate">
                    <option value="125000">125 kbps</option>
                    <option value="250000">250 kbps</option>
                    <option value="500000" selected>500 kbps</option>
                    <option value="1000000">1 Mbps</option>
                </select>
            </td>
        </tr>

        <!-- Các cài đặt khác -->
        <tr><td class="fw-bold">CAN Identifier</td><td><input type="text" class="form-control" id="can-id"></td></tr>
        <tr><td class="fw-bold">CAN Controller</td><td><input type="text" class="form-control" id="can-controller"></td></tr>
        <tr>
            <td class="fw-bold">Mode</td>
            <td>
                <select class="form-control" id="mode">
                    <option value="NORMAL">NORMAL</option>
                    <option value="LISTEN-ONLY">LISTEN-ONLY</option>
                    <option value="LOOPBACK">LOOPBACK</option>
                </select>
            </td>
        </tr>
    </table>
    <button type="button" class="btn btn-success" onclick="saveSettings()">Save</button>
</form>
{% endblock %}
